<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Lyftiv - Suivi Séance Musculation</title>
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json">
    
    <!-- Preconnect to external domains for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">

    <!-- Stylesheets -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="./styles/main.css">
    
    <!-- Robots Meta Tag -->
    <meta name="robots" content="noindex, nofollow">

    <!-- Main Application Script -->
    <script type="module" src="./js/main.js" defer></script>
</head>
<body>
    <!-- Dashboard / Welcome Screen -->
    <div id="dashboard" class="dashboard-container">
        <div class="dashboard-content">
            <header class="dashboard-header">
                <svg class="lyftiv-logo" aria-hidden="true" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                    <!-- SVG content remains the same -->
                </svg>
                <span class="app-name">Lyftiv</span>
            </header>
    
            <section class="session-selector" aria-labelledby="session-selector-title">
                <h1 id="session-selector-title">Choisissez votre séance</h1>
                <div class="session-selector-grid" id="sessionSelectorGrid">
                    <!-- Session cards will be dynamically inserted here -->
                </div>
            </section>
    
            <section class="app-guide" aria-labelledby="app-guide-title">
                <h2 id="app-guide-title">Maîtrisez Lyftiv</h2>
                <div class="app-guide-accordion">
                    <!-- Accordion items remain the same -->
                </div>
            </section>
        </div>
    </div>
    
    <!-- Main Application Container -->
    <div id="app-container" class="hidden">
        <main class="main-container" aria-labelledby="main-app-title">
            <header class="app-header">
                <button id="homeBtn" class="btn btn-ghost" aria-label="Retourner à l'accueil" title="Accueil">
                    <i class="fas fa-home" aria-hidden="true"></i>
                </button>
                <h1 id="main-app-title">
                    <svg class="lyftiv-logo" aria-hidden="true" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                        <!-- SVG content remains the same -->
                    </svg>
                    Lyftiv
                </h1>
                <div class="theme-switcher">
                    <button id="themeToggleBtn" class="btn btn-ghost" aria-label="Changer de thème"></button>
                </div>
            </header>
            
            <section class="controls" aria-label="Contrôles de la séance">
              <label for="sessionSelect"><strong>Séance :</strong></label>
              <select id="sessionSelect" aria-label="Sélectionner une séance d'entraînement"></select>
              <button class="btn btn-outline" id="createNewSessionTypeBtn" aria-label="Créer une nouvelle séance">Nouvelle séance</button>
              <button class="btn btn-danger" id="deleteCurrentSessionBtn" aria-label="Supprimer la séance actuelle" title="Supprimer la séance actuelle (personnalisée)">Supprimer la séance</button>
            </section>
            
            <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" id="progressBar" aria-label="Progression de la séance">
              <div class="progress-fill" id="progressFill"></div>
            </div>
            
            <div id="exerciseListContainer" class="exercise-list-container">
                <!-- Exercise table/cards will be dynamically inserted here -->
            </div>
            
            <section class="add-exercise-section" aria-labelledby="addExerciseTitle">
                <h2 id="addExerciseTitle" class="sr-only">Ajouter un exercice</h2>
                <div class="input-group">
                    <input type="text" id="customExercise" placeholder="Ajouter un exercice" aria-label="Nom de l'exercice personnalisé">
                    <button class="btn btn-success" id="addExerciseBtn" aria-label="Ajouter l'exercice">Ajouter</button>
                </div>
            </section>
    
            <section class="summary-section" aria-labelledby="summarySectionTitle">
                <h2 id="summarySectionTitle" class="sr-only">Résumé de la séance</h2>
                <!-- Summary cards remain the same -->
            </section>
    
            <section class="session-notes-section" id="sessionNotesSection" aria-labelledby="sessionNotesTitle">
                <h2 id="sessionNotesTitle" class="sr-only">Notes de séance</h2>
                <label for="sessionNotes"><strong>Notes de séance :</strong></label>
                <textarea id="sessionNotes" placeholder="Ajouter des notes sur la séance..." aria-label="Notes de séance"></textarea>
            </section>
            
            <footer class="main-footer">
                <section class="action-buttons" aria-label="Actions principales">
                    <button class="btn btn-success" id="finishSessionBtn">Terminer & Sauvegarder</button>
                    <button class="btn btn-primary" id="viewHistoryBtn">Historique</button>
                    <button class="btn btn-primary" id="plateCalculatorBtn">Calculateurs</button>
                </section>
        
                <section class="action-buttons" aria-label="Gestion des données">
                    <button class="btn btn-info" id="exportBtn">Exporter</button>
                    <button class="btn btn-info" id="importBtn">Importer</button>
                </section>
            </footer>

            <input type="file" id="importFile" class="hidden" accept=".json,.csv" aria-label="Fichier d'importation">
        </main> 
    </div>
    
    <!-- Notification container for dynamic messages -->
    <div id="notification-container" aria-live="polite" aria-atomic="true"></div>
    
    <!-- PWA Install Prompt (remains the same) -->
    <div id="pwaInstallPrompt" class="hidden" role="dialog" aria-modal="true" aria-labelledby="pwaInstallTitle">
        <!-- Content is the same -->
    </div>

    <!-- All modals will now be generated by JS, but we keep the containers -->
    <div id="historyModal" class="modal-overlay hidden" role="dialog" aria-modal="true" aria-labelledby="historyModalTitle"></div>
    <div id="newSessionModal" class="modal-overlay hidden" role="dialog" aria-modal="true" aria-labelledby="newSessionModalTitle"></div>
    <div id="loadOptionsModal" class="modal-overlay hidden" role="dialog" aria-modal="true" aria-labelledby="loadOptionsModalTitle"></div>
    <div id="plateCalculatorModal" class="modal-overlay hidden" role="dialog" aria-modal="true" aria-labelledby="plateCalcModalTitle"></div>
    <div id="quickEditModal" class="modal-overlay hidden" role="dialog" aria-modal="true" aria-labelledby="quickEditModalTitle"></div>

    <!-- Bottom Navigation for mobile -->
    <nav class="bottom-navigation" aria-label="Navigation principale">
        <!-- Content is the same -->
    </nav>
</body>
</html>
